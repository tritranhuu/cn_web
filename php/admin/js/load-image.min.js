!function(o){"use strict";function c(t,n,r){var o,i=document.createElement("img");return i.onerror=function(e){return c.onerror(i,e,t,n,r)},i.onload=function(e){return c.onload(i,e,t,n,r)},"string"==typeof t?(c.fetchBlob(t,function(e){e?o=c.createObjectURL(t=e):(o=t,r&&r.crossOrigin&&(i.crossOrigin=r.crossOrigin)),i.src=o},r),i):c.isInstanceOf("Blob",t)||c.isInstanceOf("File",t)?(o=i._objectURL=c.createObjectURL(t))?(i.src=o,i):c.readFile(t,function(e){var t=e.target;t&&t.result?i.src=t.result:n&&n(e)}):void 0}var t=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function i(e,t){!e._objectURL||t&&t.noRevoke||(c.revokeObjectURL(e._objectURL),delete e._objectURL)}c.fetchBlob=function(e,t,n){t()},c.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},c.transform=function(e,t,n,r,o){n(e,o)},c.onerror=function(e,t,n,r,o){i(e,o),r&&r.call(e,t)},c.onload=function(e,t,n,r,o){i(e,o),r&&c.transform(e,o,r,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},c.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},c.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},c.readFile=function(e,t,n){if(o.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},"function"==typeof define&&define.amd?define(function(){return c}):"object"==typeof module&&module.exports?module.exports=c:o.loadImage=c}("undefined"!=typeof window&&window||this);